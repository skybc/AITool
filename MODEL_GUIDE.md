# æ¨¡å‹ç®¡ç†æŒ‡å—

## ç›®å½•ç»“æ„

```
AITool/
â”œâ”€â”€ yolopt/                     # YOLO å®˜æ–¹æ¨¡å‹å­˜å‚¨ä½ç½®
â”‚   â””â”€â”€ 11/                     # YOLO11 æ¨¡å‹ç›®å½•
â”‚       â”œâ”€â”€ yolo11n.pt          # Nano æ¨¡å‹ï¼ˆçº¦30MBï¼‰
â”‚       â”œâ”€â”€ yolo11s.pt          # Small æ¨¡å‹ï¼ˆçº¦50MBï¼‰
â”‚       â”œâ”€â”€ yolo11m.pt          # Medium æ¨¡å‹ï¼ˆçº¦100MBï¼‰
â”‚       â”œâ”€â”€ yolo11l.pt          # Large æ¨¡å‹ï¼ˆçº¦150MBï¼‰
â”‚       â””â”€â”€ yolo11x.pt          # XLarge æ¨¡å‹ï¼ˆçº¦200MBï¼‰
â”‚
â”œâ”€â”€ data/                       # ç”¨æˆ·æ•°æ®é›†ç›®å½•
â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”œâ”€â”€ train/
â”‚   â”‚   â”œâ”€â”€ val/
â”‚   â”‚   â””â”€â”€ test/
â”‚   â”œâ”€â”€ labels/
â”‚   â”‚   â”œâ”€â”€ train/
â”‚   â”‚   â”œâ”€â”€ val/
â”‚   â”‚   â””â”€â”€ test/
â”‚   â”œâ”€â”€ data.yaml
â”‚   â””â”€â”€ models/                 # è®­ç»ƒåçš„æ¨¡å‹
â”‚       â”œâ”€â”€ best.pt             # æœ€ä¼˜æ¨¡å‹
â”‚       â””â”€â”€ last.pt             # æœ€å epoch æ¨¡å‹
â”‚
â””â”€â”€ results/                    # è®­ç»ƒç»“æœï¼ˆæ—¥å¿—ã€ä¸­é—´æƒé‡ç­‰ï¼‰
    â”œâ”€â”€ train.log
    â”œâ”€â”€ best.pt
    â””â”€â”€ yolo11_defect/
```

## å¿«é€Ÿå¼€å§‹

### ç¬¬ä¸€æ­¥ï¼šä¸‹è½½é¢„è®­ç»ƒæ¨¡å‹

è¿è¡Œæ¨¡å‹ä¸‹è½½è„šæœ¬ï¼š

```bash
python download_models.py
```

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
============================================================
YOLO11 æ¨¡å‹ä¸‹è½½å·¥å…·
============================================================

ğŸ“ æ¨¡å‹ä¿å­˜ç›®å½•: F:\ai\AITool\yolopt\11

[NANO] ä¸‹è½½ yolo11n.pt... âœ… å®Œæˆ (30.5MB)
[SMALL] ä¸‹è½½ yolo11s.pt... âœ… å®Œæˆ (50.2MB)
[MEDIUM] ä¸‹è½½ yolo11m.pt... âœ… å®Œæˆ (100.3MB)
[LARGE] ä¸‹è½½ yolo11l.pt... âœ… å®Œæˆ (150.8MB)
[XLARGE] ä¸‹è½½ yolo11x.pt... âœ… å®Œæˆ (200.1MB)

============================================================
ä¸‹è½½å®Œæˆ: 5 ä¸ªæˆåŠŸ, 0 ä¸ªå¤±è´¥
============================================================

ğŸ“‹ å·²ä¿å­˜çš„æ¨¡å‹:
  âœ“ yolo11n.pt            (30.5MB)
  âœ“ yolo11s.pt            (50.2MB)
  âœ“ yolo11m.pt            (100.3MB)
  âœ“ yolo11l.pt            (150.8MB)
  âœ“ yolo11x.pt            (200.1MB)
```

### ç¬¬äºŒæ­¥ï¼šå‡†å¤‡æ•°æ®é›†

å°†ä½ çš„æ•°æ®é›†æ”¾åˆ° `data/` ç›®å½•ï¼š

```
data/
â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ train/     (80% çš„å›¾ç‰‡)
â”‚   â”œâ”€â”€ val/       (10% çš„å›¾ç‰‡)
â”‚   â””â”€â”€ test/      (10% çš„å›¾ç‰‡)
â”œâ”€â”€ labels/
â”‚   â”œâ”€â”€ train/     (å¯¹åº”çš„ YOLO æ ¼å¼æ ‡ç­¾)
â”‚   â”œâ”€â”€ val/
â”‚   â””â”€â”€ test/
â””â”€â”€ data.yaml      (æ•°æ®é›†é…ç½®æ–‡ä»¶)
```

**data.yaml æ ¼å¼ï¼š**
```yaml
path: /absolute/path/to/data
train: images/train
val: images/val
test: images/test

nc: 1              # ç±»åˆ«æ•°ï¼ˆç¼ºé™·ï¼‰
names: ['defect']  # ç±»åˆ«åç§°
```

### ç¬¬ä¸‰æ­¥ï¼šé…ç½®è®­ç»ƒå‚æ•°

ç¼–è¾‘ `config.yaml`ï¼š

```yaml
training:
  epochs: 100
  batch_size: 32
  learning_rate: 0.001
  device: cuda:0

model:
  backbone: small  # nano/small/medium/large/xlarge
  
loss:
  box_loss_weight: 7.5
  cls_loss_weight: 1.5
```

### ç¬¬å››æ­¥ï¼šå¼€å§‹è®­ç»ƒ

ä½¿ç”¨ GUIï¼š
```bash
python app.py
```

æˆ–å‘½ä»¤è¡Œï¼š
```bash
python -m core.train --dataset data --output results
```

## æ¨¡å‹è¾“å‡º

è®­ç»ƒå®Œæˆåï¼Œæ¨¡å‹ä¼šè‡ªåŠ¨ä¿å­˜åˆ°ä¸¤ä¸ªä½ç½®ï¼š

### 1. ç»“æœç›®å½•ï¼ˆ`results/`ï¼‰
```
results/
â”œâ”€â”€ best.pt                     # æœ€ä¼˜æ¨¡å‹å¿«æ·æ–¹å¼
â”œâ”€â”€ train.log                   # å®Œæ•´è®­ç»ƒæ—¥å¿—
â””â”€â”€ yolo11_defect/
    â”œâ”€â”€ weights/
    â”‚   â”œâ”€â”€ best.pt            # æœ€ä¼˜æ¨¡å‹
    â”‚   â””â”€â”€ last.pt            # æœ€åæ¨¡å‹
    â””â”€â”€ ...
```

### 2. æ•°æ®ç›®å½•ï¼ˆ`data/models/`ï¼‰
```
data/
â””â”€â”€ models/
    â”œâ”€â”€ best.pt                # æœ€ä¼˜æ¨¡å‹ï¼ˆæ¨ç†ç”¨ï¼‰
    â””â”€â”€ last.pt                # æœ€åæ¨¡å‹ï¼ˆå¯é€‰ï¼‰
```

**ä¸ºä»€ä¹ˆæ‹·è´åˆ°æ•°æ®ç›®å½•ï¼Ÿ**
- âœ… æ–¹ä¾¿æŸ¥æ‰¾ï¼šä¸æ•°æ®åœ¨åŒä¸€ç›®å½•
- âœ… æ˜“äºåˆ†äº«ï¼šå’Œæ•°æ®é›†æ‰“åŒ…ä¸€èµ·
- âœ… æ¨ç†ä¾¿æ·ï¼šç›´æ¥åœ¨æ•°æ®ç›®å½•è°ƒç”¨æ¨¡å‹

## æ¨¡å‹ä¿¡æ¯

| æ¨¡å‹ | å¤§å° | æ€§èƒ½ | é€Ÿåº¦ | æ¨èç”¨é€” |
|-----|------|------|------|---------|
| nano | 30MB | ä½ | å¿«é€Ÿ | å®æ—¶æ¨ç†ã€ç§»åŠ¨è®¾å¤‡ |
| small | 50MB | ä¸­ | ä¸­ç­‰ | å¹³è¡¡æ–¹æ¡ˆ |
| medium | 100MB | é«˜ | ä¸­ç­‰ | ç”Ÿäº§ç¯å¢ƒ |
| large | 150MB | æ›´é«˜ | è¾ƒæ…¢ | é«˜ç²¾åº¦è¦æ±‚ |
| xlarge | 200MB | æœ€é«˜ | æœ€æ…¢ | æœ€é«˜æ€§èƒ½ |

## å¸¸è§é—®é¢˜

### Q: æ¨¡å‹æ–‡ä»¶æ”¾åœ¨å“ªé‡Œï¼Ÿ
A: é¢„è®­ç»ƒæ¨¡å‹åœ¨ `yolopt/11/`ï¼Œè®­ç»ƒåçš„æ¨¡å‹åœ¨ `data/models/` å’Œ `results/`ã€‚

### Q: å¯ä»¥åˆ é™¤ yolopt ç›®å½•å—ï¼Ÿ
A: ä¸å»ºè®®ã€‚è¿™äº›æ˜¯é¢„è®­ç»ƒæƒé‡ï¼Œåˆ é™¤åéœ€è¦é‡æ–°ä¸‹è½½ã€‚

### Q: å¯ä»¥å…±äº« data/models ç›®å½•å—ï¼Ÿ
A: å¯ä»¥ã€‚è¿™ä¸ªç›®å½•åŒ…å«ä½ è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œå¯ä»¥å’Œæ•°æ®é›†ä¸€èµ·æ‰“åŒ…åˆ†äº«ã€‚

### Q: å¦‚ä½•æ¢å¤è®­ç»ƒï¼Ÿ
A: ä½¿ç”¨ `--resume` å‚æ•°åŠ è½½æœ€åçš„æ¨¡å‹ï¼š
```bash
python -m core.train --dataset data --resume results/best.pt
```

### Q: æ›´æ¢æ¨¡å‹è§„æ ¼æ€ä¹ˆåŠï¼Ÿ
A: åªéœ€ä¿®æ”¹ `config.yaml` çš„ `backbone` å­—æ®µï¼š
```yaml
model:
  backbone: large  # æ”¹ä¸º large ä¼šè‡ªåŠ¨åŠ è½½ yolo11l.pt
```

## æ¨¡å‹ä¸‹è½½å¤±è´¥ï¼Ÿ

å¦‚æœç½‘ç»œé—®é¢˜å¯¼è‡´ä¸‹è½½å¤±è´¥ï¼š

1. **æ‰‹åŠ¨ä¸‹è½½**ï¼šè®¿é—® [Ultralytics å®˜ç½‘](https://github.com/ultralytics/assets/releases)
2. **æ”¾åœ¨æŒ‡å®šç›®å½•**ï¼šå°† `.pt` æ–‡ä»¶æ”¾åˆ° `yolopt/11/`
3. **é‡æ–°è¿è¡Œè„šæœ¬**ï¼š`python download_models.py` ä¼šè·³è¿‡å·²å­˜åœ¨çš„æ–‡ä»¶

## æ€§èƒ½å¯¹æ¯”

åœ¨æ ‡å‡†æ•°æ®é›†ä¸Šçš„æ€§èƒ½è¡¨ç°ï¼ˆFPS åŸºäº RTX 3090ï¼‰ï¼š

```
Model     | mAP50 | Latency(ms) | FPS
----------|-------|-------------|------
YOLOv11n  | 37.3  | 6.3        | 158
YOLOv11s  | 46.8  | 6.7        | 149
YOLOv11m  | 51.5  | 8.9        | 112
YOLOv11l  | 53.4  | 10.5       | 95
YOLOv11x  | 54.7  | 12.8       | 78
```

## æ¨¡å‹å¯¼å‡º

å¦‚éœ€å°†æ¨¡å‹å¯¼å‡ºä¸ºå…¶ä»–æ ¼å¼ï¼ˆONNXã€TensorRT ç­‰ï¼‰ï¼š

```bash
python -m core.export_onnx --weights data/models/best.pt
```

---

**æ›´æ–°æ—¶é—´**: 2025-12-29
